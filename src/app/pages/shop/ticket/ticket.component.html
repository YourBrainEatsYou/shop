<ng-container *ngIf="(tickets$ | async) as tickets">
  <div *ngFor="let ticket of tickets" class="ticket-wrapper">
    <div class="ticket">
      <div class="background">
        <svg
          data-name="Ebene 1"
          id="Ebene_1"
          viewBox="0 0 835.876 451.012"
          xmlns="http://www.w3.org/2000/svg"
        >
          <defs>
            <style>
              .cls-1 {
                fill: #fff;
              }

              .cls-2 {
                fill: url(#gradient);
              }

              .cls-3 {
                opacity: 0.1;
              }

              .cls-4 {
                fill: none;
                stroke: #000;
                stroke-miterlimit: 6.013;
                stroke-width: 3px;
                stroke-dasharray: 6 9;
              }
            </style>
            <linearGradient
              gradientUnits="userSpaceOnUse"
              id="gradient"
              x1="842.804"
              x2="-6.928"
              y1="31.643"
              y2="419.369"
            >
              <stop offset="0" stop-color="#ff2b82" />
              <stop offset="1" stop-color="#ff7f40" />
            </linearGradient>
          </defs>
          <path
            class="cls-1"
            d="M787.768,225.506a51.1,51.1,0,0,0,26.6,44.865,54.362,54.362,0,0,1,15.065,11.7c3.989,4.652,6.439,9.871,6.439,15.6v132.3a21.047,21.047,0,0,1-21.047,21.047H21.047A21.047,21.047,0,0,1,0,429.965v-132.3c0-5.728,2.451-10.947,6.439-15.6a54.362,54.362,0,0,1,15.065-11.7,51.1,51.1,0,0,0,26.6-44.865,51.1,51.1,0,0,0-26.6-44.865,54.324,54.324,0,0,1-15.065-11.7C2.451,164.292,0,159.072,0,153.344V21.047A21.047,21.047,0,0,1,21.047,0H814.829a21.047,21.047,0,0,1,21.047,21.047v132.3c0,5.728-2.45,10.948-6.439,15.6a54.324,54.324,0,0,1-15.065,11.7A51.1,51.1,0,0,0,787.768,225.506Z"
          />
          <path
            class="cls-2"
            d="M814.829,6.013a15.051,15.051,0,0,1,15.034,15.034v132.3c0,3.892-1.679,7.823-4.99,11.685a48.25,48.25,0,0,1-13.388,10.338,57.145,57.145,0,0,0,0,100.279,48.232,48.232,0,0,1,13.388,10.338c3.311,3.861,4.99,7.792,4.99,11.684v132.3A15.051,15.051,0,0,1,814.829,445H21.047A15.051,15.051,0,0,1,6.013,429.965v-132.3c0-3.891,1.679-7.823,4.99-11.684a48.232,48.232,0,0,1,13.388-10.338,57.15,57.15,0,0,0,29.73-50.14,57.151,57.151,0,0,0-29.73-50.14A48.209,48.209,0,0,1,11,165.029c-3.312-3.862-4.991-7.793-4.991-11.685V21.047A15.051,15.051,0,0,1,21.047,6.013H814.829m0-6.013H21.047A21.047,21.047,0,0,0,0,21.047v132.3c0,5.728,2.451,10.948,6.439,15.6a54.324,54.324,0,0,0,15.065,11.7,51.1,51.1,0,0,1,26.6,44.865,51.1,51.1,0,0,1-26.6,44.865,54.362,54.362,0,0,0-15.065,11.7C2.451,286.721,0,291.94,0,297.668v132.3a21.047,21.047,0,0,0,21.047,21.047H814.829a21.047,21.047,0,0,0,21.047-21.047v-132.3c0-5.728-2.45-10.947-6.439-15.6a54.362,54.362,0,0,0-15.065-11.7,51.132,51.132,0,0,1,0-89.73,54.324,54.324,0,0,0,15.065-11.7c3.989-4.651,6.439-9.871,6.439-15.6V21.047A21.047,21.047,0,0,0,814.829,0Z"
          />
          <g class="cls-3">
            <line class="cls-4" x1="626.907" x2="626.907" y1="6.007" y2="444.97" />
          </g>
        </svg>
      </div>
      <div class="foreground">
        <div class="user-data">
          <h2>{{ticket.title}}</h2>
          <p>
            <span>{{ticket.dateFrom |date:'d.'}} - {{ticket.dateTo |date:'d. MMMM yyyy'}}</span>
            <span>{{ticket.location}}</span>
          </p>

          <h3>@YourBrainEatsYou</h3>
        </div>
        <div class="ticket-number">
          <span>#1072022</span>
        </div>
      </div>
    </div>
    <div class="button button--secondary button--no-padding button--scroll">
      <span (click)="onScrollToCatering()" *ngIf="(hasTicket$ | async); else add" class="material-icons-outlined icon">expand_more</span>
      <ng-template #add>
        <span (click)="onAddTicket(ticket)" class="add">Add for {{ticket.price | intCurrency}}</span>
      </ng-template>
    </div>
  </div>
</ng-container>

